/*사용자가 입력한 문자열 값에 따라 사칙연산을 수행할 수 있는 계산기를 구현해야 한다.
문자열 계산기는 사칙연산의 계산 우선순위가 아닌 입력 값에 따라 계산 순서가 결정된다.
즉, 수학에서는 곱셈, 나눗셈이 덧셈, 뺄셈 보다 먼저 계산해야 하지만 이를 무시한다.
예를 들어 "2 + 3 * 4 / 2"와 같은 문자열을 입력할 경우 2 + 3 * 4 / 2 실행 결과인 10을 출력해야 한다.
입력은 텍스트로 한 줄로 받고 숫자와 연산자 사이는 스페이스로 분할한다. 2 + 3 * 5 처럼 입력을 받아 처리한다.
입력과 출력은 html의 input과 div 태그를 사용한다.
*/<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <title>calculator</title>
  </head>
  <body>
    <h1>문자열 계산기 구현하기</h1>
    <div id="output"> 알 이즈 웰 </div>
    <script>

        var input = {count:2};


      input.getFirstValue() = function() {
        var n = Number(prompt("첫번째 값을 입력해 주세요"));
        return n;
      };

      input.getSecondValue() = function() {
        var num2 = Number(prompt(this.count +"번째 값을 입력해 주세요"));
        n++;
        return num2;
      };

      input.getOperation() = function() {
        while(true){
          var op = prompt("연산자를 입력해 주세요");
          if(op === "+" || op === "-" || op ==="*" || op === "/" || op === "q"){
            break;
          }else{
            alert("올바른 연산자를 입력해주세요");
          }
        }
        return op;
      };

      calculator = {};
      input.calculate = function(first, second, op){
        var ret;

        switch (op) {
          case "+":
            ret = first + second;
            break;
          case "-":
            ret = first - second;
            break;
          case "*":
            ret = first * second;
            break;
          case "/":
            ret = first / second;
            break;
          default:
            break;
        }
        return ret;
      };

      output ={};

      output.out = document.getElementById('output');
      output.print = function(value){
        this.out.innerHTML = "최종 결과 값은 " + value + "입니다";
      };

      function main(){
        var result = input.getFirstValue();
        while(true){
          var op = input.getOperation();
          if(op === 'q'){
            break;
          }
          var num = input.getSecondValue();
          result = calculation.calculate(result, num, op);
        }
        var output = document.getElementById("output");
        output.print(result);
      }

      main();

    </script>
  </body>
</html>
